import{b as J,i as G,u as H,E as I,_ as K,w as O,a as $,l as Q,c as W,d as X}from"./el-button-BPh_G9Ns.js";import{E as Y,a as Z}from"./el-form-item-Dvi8za3X.js";/* empty css                 */import{d as L,c as ee,o as d,a as _,b as h,w as r,r as se,u,e as v,n as C,f as V,_ as ae,g as f,h as oe,i as l,t as S,j as o,F as te,k as re,l as B,m as le,p as ne}from"./index-DoZiZmvY.js";import{u as ie,a as ue}from"./user-D_00CXbF.js";/* empty css                 *//* empty css                   */import{u as de,a as ce}from"./devicestatus-CXzmUSov.js";import{u as me}from"./message-BsA5L3p1.js";import{u as pe}from"./history-Cip9RRC1.js";import{u as fe}from"./aimessage-BCaohSPm.js";import{E as g}from"./index-DA3cOSt1.js";import"./index-C6vTP1ry.js";import"./_initCloneObject-DTD4hlhT.js";const ge=J({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:G}}),ve={click:m=>m instanceof MouseEvent},_e=L({name:"ElLink"}),ke=L({..._e,props:ge,emits:ve,setup(m,{emit:c}){const e=m,s=H("link"),k=ee(()=>[s.b(),s.m(e.type),s.is("disabled",e.disabled),s.is("underline",e.underline&&!e.disabled)]);function y(a){e.disabled||c("click",a)}return(a,E)=>(d(),_("a",{class:C(u(k)),href:a.disabled||!a.href?void 0:a.href,target:a.disabled||!a.href?void 0:a.target,onClick:y},[a.icon?(d(),h(u(I),{key:0},{default:r(()=>[(d(),h(se(a.icon)))]),_:1})):v("v-if",!0),a.$slots.default?(d(),_("span",{key:1,class:C(u(s).e("inner"))},[V(a.$slots,"default")],2)):v("v-if",!0),a.$slots.icon?V(a.$slots,"icon",{key:2}):v("v-if",!0)],10,["href","target"]))}});var ye=K(ke,[["__file","link.vue"]]);const be=O(ye),we="/assets/login_bg-CmsGIJCD.jpg",Se="/assets/%E8%8A%B1%E7%93%A3%20(1)-B_O4EkJz.png",he=["src"],Ee={class:"login-container"},$e={class:"login-box"},Ce={class:"title-container"},Ve={class:"subtitle"},Be={class:"login-options"},Ie={class:"flower"},Le=["src"],Pe={__name:"LoginPage",setup(m){const c=f(!1),e=f(!1),s=f({username:"root",password:"123456",email:""}),k={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"用户名必须是3-10位的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{5,15}$/,message:"密码必须是5-15位的非空字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]},y=le(),a=oe(),E=de(),P=ce(),z=me(),M=pe(),x=fe(),b=f(),D=async()=>{await b.value.validate();const n=await ie(s.value);n.data.code==="1"?(a.$reset(),E.$reset(),P.$reset(),z.$reset(),M.$reset(),x.$reset(),a.setUser(n.data.data),a.setToken(n.data.data.token),g.success("登录成功"),y.push("/")):g.error(n.data.msg||"登录失败")},F=async()=>{await b.value.validate();const n=await ue({username:s.value.username,password:s.value.password,email:s.value.email});n.data.code==="1"?(g.success("注册成功"),e.value=!1):g.error(n.data.msg||"注册失败")},N=()=>{c.value=!c.value},U=()=>{e.value=!e.value,s.value=e.value?{username:"",password:"",email:""}:{username:"root",password:"123456",email:""}};return(n,t)=>{const w=W,p=Z,q=ne("svg-icon"),A=I,R=X,T=be,j=Y;return d(),_("section",null,[l("img",{src:u(we),class:"bg"},null,8,he),l("div",Ee,[l("div",$e,[l("div",Ce,[t[4]||(t[4]=l("h1",{class:"app-title"},"植愈星球",-1)),l("div",Ve,S(e.value?"注册":"登录"),1)]),o(j,{ref_key:"form",ref:b,model:s.value,rules:k,class:"login-form"},{default:r(()=>[o(p,{prop:"username"},{default:r(()=>[o(w,{modelValue:s.value.username,"onUpdate:modelValue":t[0]||(t[0]=i=>s.value.username=i),"prefix-icon":u($),placeholder:e.value?"设置用户名":"用户名 : root",size:"large"},null,8,["modelValue","prefix-icon","placeholder"])]),_:1}),e.value?(d(),h(p,{key:0,prop:"email"},{default:r(()=>[o(w,{modelValue:s.value.email,"onUpdate:modelValue":t[1]||(t[1]=i=>s.value.email=i),"prefix-icon":u($),placeholder:e.value?"设置邮箱":"邮箱",size:"large"},null,8,["modelValue","prefix-icon","placeholder"])]),_:1})):v("",!0),o(p,{prop:"password"},{default:r(()=>[o(w,{modelValue:s.value.password,"onUpdate:modelValue":t[2]||(t[2]=i=>s.value.password=i),"prefix-icon":u(Q),type:c.value?"text":"password",placeholder:e.value?"设置密码":"密码 : 123456",size:"large"},{suffix:r(()=>[o(A,{class:"cursor-pointer",onClick:N},{default:r(()=>[o(q,{icon:c.value?"eye-open":"eye"},null,8,["icon"])]),_:1})]),_:1},8,["modelValue","prefix-icon","type","placeholder"])]),_:1}),o(p,null,{default:r(()=>[o(R,{type:"primary",class:"login-btn",size:"large",onClick:t[3]||(t[3]=i=>e.value?F():D())},{default:r(()=>[B(S(e.value?"注册":"登录"),1)]),_:1})]),_:1}),l("div",Be,[o(T,{type:"primary",underline:!1,onClick:U},{default:r(()=>[B(S(e.value?"已有账号？去登录":"没有账号？去注册"),1)]),_:1})])]),_:1},8,["model"])])]),l("div",Ie,[(d(),_(te,null,re(7,i=>l("img",{src:u(Se),key:i},null,8,Le)),64))])])}}},He=ae(Pe,[["__scopeId","data-v-25e71b13"]]);export{He as default};
